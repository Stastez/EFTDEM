<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>EFTDEM: Tabp Efficient Filling Techniques</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">EFTDEM
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md__media_stastez_data__code__e_f_t_d_e_m__r_e_a_d_m_e.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Tabp Efficient Filling Techniques </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="autotoc_md1"></a>
Usage</h1>
<h2><a class="anchor" id="autotoc_md2"></a>
Simple filling</h2>
<p>Provide exactly one .yaml config of the type presented below as a command line argument.</p>
<h2><a class="anchor" id="autotoc_md3"></a>
Comparison between our filling algorithms and a ground-truth DEM</h2>
<p>Provide exactly one .yaml config of the type presented below, as well as exactly one .tiff DEM as a command line argument.</p>
<h2><a class="anchor" id="autotoc_md4"></a>
Comparison between several layers of ground radar</h2>
<p>Provide at least two .yaml configs of the type presented below.</p>
<h1><a class="anchor" id="autotoc_md5"></a>
Example Config</h1>
<div class="fragment"><div class="line">CloudReaderOptions:</div>
<div class="line">  pointCloudPath: &quot;../resources/pointCloud.txt&quot;</div>
<div class="line"> </div>
<div class="line">  # Currently implemented: mobileMapping, groundRadar</div>
<div class="line">  pointCloudType: mobileMapping</div>
<div class="line"> </div>
<div class="line">CloudSorterOptions:</div>
<div class="line">  pixelPerUnit: 5</div>
<div class="line">  #pixelPerUnitX: 5 ### optional, remove pixelPerUnit if you want to use this</div>
<div class="line">  #pixelPerUnitY: 5 ### optional, remove pixelPerUnit if you want to use this</div>
<div class="line">  useGPU: true</div>
<div class="line"> </div>
<div class="line">CloudRasterizerOptions:</div>
<div class="line">  useGPU: true</div>
<div class="line"> </div>
<div class="line">HeightMapFillerOptions:</div>
<div class="line">  useGPU: true</div>
<div class="line"> </div>
<div class="line">  # Currently implemented: closingFilter, inverseDistanceWeightedFilter, radialFiller</div>
<div class="line">  filler: inverseDistanceWeightedFilter</div>
<div class="line"> </div>
<div class="line">  # for closingFilter and inverseDistanceWeightedFilter</div>
<div class="line">  kernelBasedFilterOptions:</div>
<div class="line">    kernelSizes:</div>
<div class="line">      - 5</div>
<div class="line">      - 25</div>
<div class="line">      - 50</div>
<div class="line">    batchSize: 1024 # optional, if not set will default to 0 (automatically trying to find possible batch size)</div>
<div class="line"> </div>
<div class="line">  # for radialFiller</div>
<div class="line">  radialFillerOptions:</div>
<div class="line">    maxHoleRadius: 50</div>
<div class="line">    batchSize: 8192 # optional, if not set will default to 0 (automatically trying to find possible batch size)</div>
<div class="line">    useBatching: false # optional, will default to &quot;true&quot;. If &quot;false&quot;, this will disable batching and make &quot;batchSize&quot; obsolete</div>
<div class="line"> </div>
<div class="line">HeightMapWriterOptions:</div>
<div class="line">  destinationPath: &quot;../resources/map&quot;</div>
<div class="line">  writeLowDepth: true</div>
<div class="line">  betterCompression: false # optional, will default to &quot;false&quot;. If true, GDAL will use LZMA compression, if false, LZW.</div>
<div class="line">                           # Using LZMA will reduce file size significantly, however, the export will take a much extended</div>
<div class="line">                           # amount of time. Also, using LZMA max break compatibility with standard image viewers. You may</div>
<div class="line">                           # use software such as QGIS to mitigate this issue.</div>
<div class="line"> </div>
<div class="line">OpenGLOptions:</div>
<div class="line">  shaderDirectory: &quot;../shaders&quot;</div>
<div class="line"> </div>
<div class="line"># for layer-wise comparison</div>
<div class="line">ComparisonOptions:</div>
<div class="line">  destinationPath: &quot;../resources/&quot;</div>
<div class="line">  threshold: 8.336743E-09</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md6"></a>
Hardware Requirements</h1>
<ul>
<li>An OpenGL 4.3 or greater capable combination of GPU and graphics driver</li>
<li>Lots of RAM<ul>
<li>EFTDEM uses 64 bit doubles for the values of points and height data</li>
<li>Optimization of computation time requires lots of (shared) GPU memory</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md7"></a>
Installation</h1>
<p>You may choose to provide a built version of all dependencies listed below yourself. For added convenience, we also provide installation scripts that fetch and build these dependencies for you. As a last step, these scripts also set up a valid CMake project for EFTDEM while copying all necessary shared libraries. For all systems, these scripts require CMake and git.</p>
<h2><a class="anchor" id="autotoc_md8"></a>
Windows</h2>
<p>You may run <a href="./build_deps.bat">build_deps.bat</a>. The installation script requires CMake to be installed in the system PATH, git, PowerShell and Visual Studio 2022. Running the script will create a PowerShell instance that bypasses script execution policies and run <a href="./.build_deps.ps1">.build_deps.ps1</a>. This will clone all necessary dependencies from GitHub and compile them into a directory called <code>.deps</code>. GDAL will be installed via vcpkg. Lastly, the script will execute <a href="./.build_config.ps1">.build_config.ps1</a> which will set up a valid CMake project for EFTDEM with the build-directory specified as <code>build</code>.</p>
<h2><a class="anchor" id="autotoc_md9"></a>
Linux (X11)</h2>
<p>You may run <a href="./build_deps.sh">build_deps.sh</a>. The installation script requires CMake and git to be to be installed in the system PATH, as well as a working C++ compiler. The script will clone all necessary dependencies from GitHub and compile them into a directory called "deps". GDAL will be installed via vcpkg. Lastly, the script will execute <a href="./build_config.sh">build_config.sh</a> which will set up a valid CMake project for EFTDEM with the build-directories specified as <code>build-debug</code>, <code>build-debug-coverage</code> and <code>build-release</code>.</p>
<h1><a class="anchor" id="autotoc_md10"></a>
Dependencies</h1>
<p><a href="https://gdal.org/">GDAL</a> <br  />
 <a href="https://www.glfw.org/">glfw</a> <br  />
 <a href="https://github.com/g-truc/glm">glm</a> <br  />
 <a href="https://github.com/cginternals/glbinding">glbinding</a> <br  />
 <a href="https://github.com/Neargye/magic_enum">magic_enum</a> <br  />
 <a href="https://github.com/jbeder/yaml-cpp">yaml-cpp</a> <br  />
 OpenGL</p>
<h1><a class="anchor" id="autotoc_md11"></a>
Known Errors</h1>
<ul>
<li>When executing shaders on the GPU, Windows may terminate the graphics driver when a single compute invocations exceeds a certain time limit (usually 2 seconds). This may lead to a program crash or visual artifacts in the resulting output.<ul>
<li><b>Fix:</b> Specify a smaller <code>batchSize</code> in your config or set <code>batchSize=0</code> to trigger automatic testing for a good batch size (note: automatic testing may conclude with batch sizes that are smaller than technically possible. This leads to decreased performance. In rare cases automatic testing may also still choose batch sizes that are too large.)</li>
</ul>
</li>
<li>EFTDEM may crash in either scenario:<ul>
<li>Amount of points in the specified point cloud file is too great for <code>std::vector</code> allocation with your current setup<ul>
<li><b>Fix:</b> Tile the data into multiple files and run EFTDEM on them seperately.</li>
</ul>
</li>
<li>Resolution specified in the config is too great for GPU buffers or <code>std::vector</code> allocations<ul>
<li><b>Fix:</b> Reduce either <code>pixelPerUnitX</code> or <code>pixelPerUnitY</code>, or both. You may also tile your data as described above. In that case, make sure to sort the point cloud file in at least the <code>x</code> or <code>y</code> axis before proceeding with the tiling operation. </li>
</ul>
</li>
</ul>
</li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
